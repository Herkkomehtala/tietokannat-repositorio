
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Tietokantakurssin dokumentaatio">
      
      
        <meta name="author" content="Herkko Mehtälä / JAMK">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.9">
    
    
      
        <title>Tietokantojen suunnittelu - Tietokannat-dokumentaatio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2b4465f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:300,400,400i,700%7CFira+Code&display=fallback">
        <style>:root{--md-text-font:"Fira Sans";--md-code-font:"Fira Code"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tietokantojen-suunnittelu" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Tietokannat-dokumentaatio" class="md-header__button md-logo" aria-label="Tietokannat-dokumentaatio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tietokannat-dokumentaatio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tietokantojen suunnittelu
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Tietokannat-dokumentaatio" class="md-nav__button md-logo" aria-label="Tietokannat-dokumentaatio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tietokannat-dokumentaatio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Tietokantakurssin dokumentaatio
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus1/" class="md-nav__link">
        Ympäristön pystytys
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus2/" class="md-nav__link">
        SQL-perusteet
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tietokantojen suunnittelu
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tietokantojen suunnittelu
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#harjoitus-3-tehtava-1" class="md-nav__link">
    Harjoitus 3 - Tehtävä 1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#harjoitus-3-tehtava-2" class="md-nav__link">
    Harjoitus 3 - Tehtävä 2
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus4/" class="md-nav__link">
        Normalisointi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus5/" class="md-nav__link">
        SQL-funktiot ja -liitokset
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus6/" class="md-nav__link">
        SQL-taulujen luonti ja muokkaus
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus7/" class="md-nav__link">
        Alikyselyt, näkymät ja indeksointi
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus8/" class="md-nav__link">
        Transaktiot, herättimet ja rollback
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Harjoitus9/" class="md-nav__link">
        Kertausharjoitus
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#harjoitus-3-tehtava-1" class="md-nav__link">
    Harjoitus 3 - Tehtävä 1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#harjoitus-3-tehtava-2" class="md-nav__link">
    Harjoitus 3 - Tehtävä 2
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="tietokantojen-suunnittelu">Tietokantojen suunnittelu</h1>
<h2 id="harjoitus-3-tehtava-1">Harjoitus 3 - Tehtävä 1</h2>
<blockquote>
<p>Suunnittele tietokantaratkaisu tämän opintojakson harjoitustehtävien palauttamiselle tarkoitetulle ScoreTronic-palvelulle. Opiskelijat palauttavat viikottain harjoitustehtäväsarjaan kuuluvat tehtävänsä.  </p>
<p>Harjoitustehtäväsarja koostuu useista harjoitustehtävästä. Tietty harjoitustehtävä voi kuulua <em>VAIN</em> yhteen harjoitustehtäväsarjaan. Yksittäisellä harjoitustehtävällä on määritelty maksimipisteet. Opiskelija tekee jokaiselle tehtävälleen piste-ehdotuksen ja opettaja lopulta päättää pisteet.  </p>
<p>Opiskelijasta pitää tietää opiskelijatunnus ja nimi.</p>
</blockquote>
<p><strong>Käsitteitä:</strong>  </p>
<p>Opiskelija<br />
- Nimi<br />
- Opiskelijatunnus</p>
<p>Harjoitustehtäväsarja<br />
- Harjoitustehtävä(t)<br />
- Viimeinen palautuspäivämäärä<br />
- Max pisteet<br />
- Lopulliset pisteet  </p>
<p>Harjoitustehtävä
- Mikä tehtävä<br />
- Max pisteet<br />
- Ehdotetut pisteet<br />
- Lopulliset pisteet<br />
- Palauttajat (Opiskelijat)  </p>
<p>Huomattavana <code>Harjoitustehtävä</code> -osiossa on <code>palauttajat</code>. Yksittäiseen harjoitustehtävään on mahdollista lisätä enemmän kuin yksi palauttaja. Tämä sallii esim.: Ryhmätöiden palauttamisen.  </p>
<p>Näistä tiedoista voin suunnitella käsitemallin. Käytän apunani <em>Draw.io</em> sivustoa. Yksilön (Entity) attribuutit on kirjoitettu ranskalaisilla viivoilla niiden viereen.  </p>
<p><img alt="Kuva käsitemallista" src="1_kasitemalli.png" />  </p>
<p>Tästä käsitemallista voi havainnoida, että yksittäinen tehtävä kuuluu <strong>VAIN</strong> yhteen tiettyyn tehtäväsarjaan, mutta yhdessä tehtäväsarjassa voi olla monta erillaista tehtävää. Tämän lisäksi käsitemallissa on otettu huomioon se mahdollisuus, että yhtä tehtävää voi tehdä monta opiskelijaa, ja tehtäväsarjassa voi olla useita palauttajia. Tämä mahdollistaa esim.: Ryhmätöiden palauttamisen.  </p>
<p>Tämän lisäksi yhdessä tehtävässä ja tehtäväsarjassa on omat max -ja lopulliset pisteet. Tämä mahdollistaa sen, että opiskelija ja opettaja voi halutessaan tarkistaa yhden tietyn tehtävän pisteet.  </p>
<p>Viimeinen vivahde on, että vain tehtäväsarjoissa on viimeinen palautuspäivämäärä. Tämä tarkoittaa sitä, että tehtävät palautetaan sarjoissa eikä yksitellen.  </p>
<p>Näistä tiedoista voidaan luoda tarkempi versio käsitemallista joka sisältäisi kaikki attribuutit, PK:t, yms. Tämä näyttäisi tehtäväsarjan osalta tältä:  </p>
<p><img alt="Kuva käsitemallista" src="2_kasitemalli2.png" />  </p>
<p>Näillä tiedoilla voidaan luoda <em>ScoreTronic</em> -Palvelun mukainen tietokanta joka ylläpitää opiskelijoiden palauttamat tehtävät, niiden yhteenlasketut pisteet, max pisteet ja muut tarvittavat tiedot.  </p>
<h2 id="harjoitus-3-tehtava-2">Harjoitus 3 - Tehtävä 2</h2>
<blockquote>
<p>Suunnittele tietokantaratkaisu, jossa tietoa tallennetaan kalastajista ja heidän eri kalapaikoissa kalastamista kalasaaleistaan. Tietoa on kyettävä tallentamaan myös saalistetuista kalalajeista. Tietokantaratkaisussa pitää olla mahdollisuus saada ulos tietoja esim: kalastajista, heidän kalasaalismäärästään, kalapaikoista yms.  </p>
</blockquote>
<p><strong>Käsitteitä:</strong></p>
<p>Kalastaja
- Nimi
- Kalastajatunnus (ID)
- Kalasaalismäärä
- Kalastuslupa (Kyllä/ei)</p>
<p>Kala
- Laji
- Paino
- Elinalueet</p>
<p>Kalastusalue
- Sijainti
- Kalalajit</p>
<p>Kalareissu
- Kalastaja(t)
- Kalastusalue
- Aikaväli
- Saaliit</p>
<p>Näistä tiedoista voin suunnitella käsitemallin.  </p>
<p><img alt="Kuva käsitemallista" src="3_kasitemalli.png" />  </p>
<p>Tässä on huomioitava se, että kalareissulla on oltava <strong>vähintään</strong> yksi kalastaja ja kalastusalue mutta näitä voi olla useampi. Tämä on siksi, että pidemmillä kalastusreissuilla voidaan käydä useammassa kalastusalueella.  </p>
<p>Muut relaatiot ovat aika yksiselitteisiä. Tietty kalalaji voi elää useassa kalastusalueessa, kalareissulla voi olla useampi tai ei ollenkaan kalaa saaliina ja kalastajalla voi olla useampi tai ei yhtään kalareissua.  </p>
<p>Koska kalareissulla on "Aikaväli" ja "Saaliit" -attribuutti, näillä voidaan mitata esimerkiksi tiettyjen kalastusalueiden saaliit tietyltä aikaväliltä ja kuinka paljon tietyn alueen kalat painavat. Tämän lisäksi kaikkien kalastajien kalasaalismäärä tietyltä aikaväliltä saadaan näistä attribuuteista.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Harjoitus2/" class="md-footer__link md-footer__link--prev" aria-label="Previous: SQL-perusteet" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              SQL-perusteet
            </div>
          </div>
        </a>
      
      
        
        <a href="../Harjoitus4/" class="md-footer__link md-footer__link--next" aria-label="Next: Normalisointi" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Normalisointi
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.960e086b.min.js"></script>
      
    
  </body>
</html>